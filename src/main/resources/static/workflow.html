<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>
        template
    </title>
</head>
<body>
<div class="flex flex-col prose">
    <div class="w-full max-w-screen-xl mx-auto">
        <!-- * * * * * * * * * * * * * -->
        <!-- Start of GoJS sample code -->
        <script src="go.js"></script>
        <div id="allSampleContent" class="p-4 w-full">
            <script src="Figures.js"></script>
            <script id="code">
                function init() {

                  myDiagram = new go.Diagram('myDiagramDiv', {
                    layout: new go.TreeLayout({
                      setsPortSpot: false,
                      setsChildPortSpot: false,
                      isRealtime: false
                    })
                  });

                  myDiagram.nodeTemplate = new go.Node('Vertical', {
                    defaultStretch: go.Stretch.Horizontal,
                    fromSpot: go.Spot.RightSide,
                    toSpot: go.Spot.LeftSide
                  })
                    .add(
                      new go.Panel('Auto')
                        .add(
                          new go.Shape('RoundedTopRectangle', { fill: 'white' })
                          .bind('fill', 'role', (r) => (r[0] === 't' ? 'lightgray' : 'white')),
                          new go.TextBlock({
                            margin: new go.Margin(2, 2, 0, 2),
                            textAlign: 'center'
                          }).bind('text', 'header')
                        ),
                      new go.Panel('Auto', { minSize: new go.Size(NaN, 60) })
                        .add(
                          new go.Shape('Rectangle', { fill: 'white' }),
                          new go.TextBlock({
                            width: 120,
                            margin: new go.Margin(2, 2, 0, 2),
                            textAlign: 'left'
                          })
                            .bind('text'),
                          new go.Shape('BpmnActivityLoop', {
                            visible: false,
                            width: 10,
                            height: 10,
                            alignment: new go.Spot(0.5, 1, 0, -3),
                            alignmentFocus: go.Spot.Bottom
                          })
                            .bind('visible', 'loop')
                        ),
                      new go.Panel('Auto')
                        .add(
                          new go.Shape('RoundedBottomRectangle', { fill: 'white' })
                            .bind('fill', 'role', (r) => (r[0] === 'b' ? 'red' : 'white')),
                          new go.TextBlock({
                            margin: new go.Margin(2, 2, 0, 2),
                            textAlign: 'center'
                          })
                            .bind('text', 'footer')
                        )
                    );

                  myDiagram.groupTemplate = new go.Group('Vertical', {
                    layout: new go.TreeLayout({
                      setsPortSpot: false,
                      setsChildPortSpot: false
                    }),
                    defaultStretch: go.Stretch.Horizontal,
                    fromSpot: go.Spot.RightSide,
                    toSpot: go.Spot.LeftSide
                  })
                    .add(
<!--                      new go.Panel('Auto')-->
<!--                        .add(-->
<!--                          new go.Shape('RoundedRectangle', { // Rounded top rectangle via parameter2-->
<!--                            fill: 'white',-->
<!--                            parameter2: 1 | 2-->
<!--                          })-->
<!--                            .bind('fill', 'role', (r) => (r[0] === 'groupR' ? 'yellow' : 'white')),-->
<!--                          new go.TextBlock({-->
<!--                            margin: new go.Margin(2, 2, 0, 2),-->
<!--                            textAlign: 'center'-->
<!--                          })-->
<!--                            .bind('text', 'header')-->
<!--                        ),-->
                      new go.Panel('Auto')
                        .add(
                          new go.Shape({ fill: 'white' }),
                          new go.Placeholder({ padding: 20 }),
                          new go.Shape('BpmnActivityLoop', {
                            visible: false,
                            width: 10,
                            height: 10,
                            alignment: new go.Spot(0.5, 1, 0, -3),
                            alignmentFocus: go.Spot.Bottom
                          })
                            .bind('visible', 'loop')
                        ),
                      new go.Panel('Auto')
                        .add(
                          new go.Shape('RoundedRectangle', { // Rounded bottom rectangle via parameter2
                            fill: 'white',
                            parameter2: 4 | 8
                          })
                            .bind('fill', 'role', (r) => (r[0] === 'b' ? 'green' : 'white')),
                          new go.TextBlock({
                            margin: new go.Margin(2, 2, 0, 2),
                            textAlign: 'center'
                          })
                            .bind('text', 'footer')
                        )
                    );

                  myDiagram.linkTemplate = new go.Link({
                    routing: go.Routing.Orthogonal,
                    corner: 5
                  })
                    .add(
                      new go.Shape(),
                      new go.Shape({ toArrow: 'Triangle' })
                    );

                  myDiagram.model = new go.GraphLinksModel(
                    [
                      { key: 1, header: '1', text: 'start', footer: 'status=1', role: 't' },
                      { key: 2, header: 'planner2', text: 'planner', footer: 'status=1', role: 't', loop: true },

                      { key: 3, header: 'NodeGroup1', isGroup: true, footer: 'Shipper', role: 'b' },
                      { key: 4, header: 'task1', text: 'url=xxx&sss \n callback=xxx \n hahah', footer: 'Retailer', role: 'groupR', group: 3 },
                      { key: 5, header: 'task2', text: 'Order & Delivery Variations', footer: 'Retailer', role: 't', group: 3 },

                      { key: 13, header: 'NodeGroup2', isGroup: true, footer: 'Shipper', role: 'b', loop: true },
                      { key: 14, header: 'task4', text: 'Planned Order Variations', footer: 'Retailer', role: 'b', group: 13 },
                      { key: 15, header: 'task5', text: 'Order & Delivery Variations', footer: 'Retailer', role: 't', group: 13 },


                      { key: 16, header: 'end', text: 'end', footer: '1', role: 't'}
                    ],
                    [
                      { from: 1, to: 2 },
                      { from: 2, to: 3 },
                      { from: 2, to: 13 },
                      { from: 4, to: 5 },
                      { from: 14, to: 15 },

                      { from: 3, to: 16 },
                      { from: 13, to: 16 },
                    ]
                  );
                }
                window.addEventListener('DOMContentLoaded', init);
            </script>

            <div id="sample">
                <div id="myDiagramDiv"
                     style="border: 1px solid black; width: 100%; height: 600px; position: relative; -webkit-tap-highlight-color: rgba(255, 255, 255, 0);">
                    <canvas tabindex="0" width="2492" height="1196"
                            style="position: absolute; top: 0px; left: 0px; z-index: 2; user-select: none; touch-action: none; width: 1246px; height: 598px;"></canvas>
                </div>

</body>
</html>